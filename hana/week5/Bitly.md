# Bitly

## 흐름

### URL 단축 요청 흐름

1. 클라이언트 (사용자 웹사이트)가 긴 URL을 서버로 보냄
2. 서버는 짧은 URL을 생성하고 이를 긴 URL과 함께 데이터베이스에 저장함
3. 짧은 URL을 클라이언트에 반환함

### 리디렉션 흐름

1. 클라이언트가 짧은 URL로 접근함
2. 서버는 데이터베이스에서 해당 짧은 URL에 매핑된 긴 URL을 찾아 리디렉션 응답(302)을 반환함

---

## 딥다이브

### 짧은 코드의 고유성 보장

1. 긴 URL의 접두사 사용: 많은 URL이 동일한 접두사를 공유하므로 충돌 가능성이 높아 부적합

2. 난수 생성기 + Base62 인코딩

3. 긴 URL 해싱 + Base62 인코딩

4. 카운터 증가 + Base62 인코딩

### 낮은 지연 시간

1. 인덱싱

2. 캐싱

-   LRU(Least Recently Used) 캐시 정책 이해
-   CDN 캐싱

### 확장성

1. 서버의 수평 확장

2. 글로벌 카운터 분리

3. 데이터베이스 샤딩
